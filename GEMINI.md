# Gemini CLI 作業方針

## 目的
Gemini CLI 向けのコンテキストと作業方針を定義します。

## 出力スタイル
- **言語**: 日本語
- **トーン**: プロフェッショナルかつ簡潔（CLI 環境に適した形式）
- **形式**: GitHub-flavored Markdown

## 共通ルール
- **会話**: 日本語で行う
- **コミットメッセージ**: Conventional Commits に従い、説明は日本語で記載する
- **日本語と英数字の間**: 半角スペースを入れる

## プロジェクト概要
- **目的**: Discord チャンネルの移動を検出し、自動的に元の位置に戻すボット
- **主な機能**: チャンネル位置のロック、自動復元、スラッシュコマンド

## コーディング規約
- **フォーマット**: Prettier / ESLint に従う
- **命名規則**: 既存の camelCase 等に従う
- **コメント**: 日本語で記載する
- **エラーメッセージ**: 英語で記載し、既存が絵文字付きの場合はそれに合わせる

## 開発コマンド
```bash
# 依存関係のインストール
pnpm install

# 開発
pnpm dev

# 実行
pnpm start

# Lint / 型チェック
pnpm lint

# 自動修正
pnpm fix

# ビルド / パッケージング
pnpm package
```

## 注意事項
- **セキュリティ**: トークンや秘密情報をコミットしない。ログに出力しない。
- **既存ルールの優先**: プロジェクト固有の設計（`@book000/node-utils` の使用など）を尊重する。
- **既知の制約**: Discord API のレート制限や権限設定に留意する。

## リポジトリ固有
- `src/manager/` 以下に主要なロジックが集約されている。
- スラッシュコマンドの追加時は `src/commands/` にファイルを作成し、`src/discord.ts` で import して `Discord.routes` 配列に追加して登録する。
- データの永続化は `data/` ディレクトリ配下で行われることを想定する。
- PR 作成後は `gh pr checks <PR ID> --watch` で CI の成功を確認する。
